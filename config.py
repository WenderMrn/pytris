from typing import Final, Literal
from blessed import Terminal

from core.db import Db


TERM = Terminal()
CONN = Db()

BOARD: Final = {"WIDTH": 10, "HEIGHT": 10, "OFFSET_X": 20, "OFFSET_Y": 3}

BOARD_WIDTH: Final = 10
BOARD_HEIGHT: Final = 20
CELL_WIDTH: Final = 2
DEBUG: Final = False
GAME_SPEED: Final = 1.75
PLAYER_SEED: Final = 1

PIECE_BG_COLORS: Final = {
    "I": TERM.on_cyan,
    "O": TERM.on_yellow,
    "T": TERM.on_magenta,
    "S": TERM.on_green,
    "Z": TERM.on_red,
    "J": TERM.on_blue,
    "L": TERM.on_bright_yellow,
}

PIECE_FG_COLORS: Final = {
    "I": TERM.white,
    "O": TERM.black,
    "T": TERM.white,
    "S": TERM.white,
    "Z": TERM.white,
    "J": TERM.white,
    "L": TERM.black,
}

PIECE_NAMES: Final = Literal["I", "O", "T", "J", "L", "S", "Z"]

# fmt: off
PIECES: Final  = {
    "I": [
        [
          [1, 1, 1, 1]
        ], 
        [
          [1], 
          [1], 
          [1], 
          [1], 
        ]
    ],
    "O": [
        [
          [1, 1], 
          [1, 1]
        ]
    ],
    "T": [
        [
            [0, 2, 0], 
            [2, 2, 2]],
        [
            [2, 0], 
            [2, 2], 
            [2, 0]
        ],
        [
            [2, 2, 2], 
            [0, 2, 0]
        ],
        [
            [0, 2], 
            [2, 2], 
            [0, 2]
        ],
    ],
    "J": [
        [
            [3, 0, 0], 
            [3, 3, 3]
        ],
        [
            [3, 3], 
            [3, 0], 
            [3, 0]
        ],
        [
            [3, 3, 3], 
            [0, 0, 3]
        ],
        [
            [0, 3], 
            [0, 3], 
            [3, 3]
        ],
    ],
    "L": [
        [
            [0, 0, 4], 
            [4, 4, 4]
        ],
        [
            [4, 0], 
            [4, 0], 
            [4, 4]],
        [
            [4, 4, 4], 
            [4, 0, 0]
        ],
        [
            [4, 4], 
            [0, 4], 
            [0, 4]
        ],
    ],
    "S": [
        [
            [0, 5, 5], 
            [5, 5, 0]
        ], 
        [
            [5, 0], 
            [5, 5], 
            [0, 5]
        ]
    ],
    "Z": [
        [
            [6, 6, 0], 
            [0, 6, 6]
        ], 
        [
            [0, 6], 
            [6, 6], 
            [6, 0]
        ]
    ],
}


#https://en.wikipedia.org/wiki/Arrow_(symbol)

BLOCK_LETTERS: Final  = {
 "A": [
        " β–β– ",
        "β–  β–",
        "β–β–β–β–",
        "β–  β–",
        "β–  β–"
    ],
    "B": [
        "β–β–β– ",
        "β–  β–",
        "β–β–β– ",
        "β–  β–",
        "β–β–β– "
    ],
    "C": [
        " β–β– ",
        "β–  β–",
        "β–   ",
        "β–  β–",
        " β–β– "
    ],
    "D": [
        "β–β–β– ",
        "β–  β–",
        "β–  β–",
        "β–  β–",
        "β–β–β– "
    ],
    "E": [
        "β–β–β–β–",
        "β–   ",
        "β–β–β– ",
        "β–   ",
        "β–β–β–β–"
    ],
    "F": [
        "β–β–β–β–",
        "β–   ",
        "β–β–β– ",
        "β–   ",
        "β–   "
    ],
    "G": [
        " β–β– ",
        "β–   ",
        "β– β–β–",
        "β–  β–",
        " β–β–β–"
    ],
    "H": [
        "β–  β–",
        "β–  β–",
        "β–β–β–β–",
        "β–  β–",
        "β–  β–"
    ],
    "I": [
        "β–β–β–",
        " β– ",
        " β– ",
        " β– ",
        "β–β–β–"
    ],
    "J": [
        "   β–",
        "   β–",
        "   β–",
        "β–  β–",
        " β–β– "
    ],
    "K": [
        "β–  β–",
        "β– β– ",
        "β–β–  ",
        "β– β– ",
        "β–  β–"
    ],
    "L": [
        "β–   ",
        "β–   ",
        "β–   ",
        "β–   ",
        "β–β–β–β–"
    ],
    "M": [
        "β–   β–",
        "β–β– β–β–",
        "β– β– β–",
        "β–   β–",
        "β–   β–"
    ],
    "N": [
        "β–   β–",
        "β–β–  β–",
        "β– β– β–",
        "β–  β–β–",
        "β–   β–"
    ],
    "O": [
        " β–β– ",
        "β–  β–",
        "β–  β–",
        "β–  β–",
        " β–β– "
    ],
    "P": [
        "β–β–β– ",
        "β–  β–",
        "β–β–β– ",
        "β–   ",
        "β–   "
    ],
    "Q": [
        " β–β– ",
        "β–  β–",
        "β–  β–",
        "β– β–β–",
        " β– β–"
    ],
    "R": [
        "β–β–β– ",
        "β–  β–",
        "β–β–β– ",
        "β– β– ",
        "β–  β–"
    ],
    "S": [
        " β–β–β–",
        "β–   ",
        " β–β– ",
        "   β–",
        "β–β–β– "
    ],
    "T": [
        "β–β–β–β–β–",
        "  β–  ",
        "  β–  ",
        "  β–  ",
        "  β–  "
    ],
    "U": [
        "β–  β–",
        "β–  β–",
        "β–  β–",
        "β–  β–",
        " β–β– "
    ],
    "V": [
        "β–   β–",
        "β–   β–",
        "β–   β–",
        " β– β– ",
        "  β–  "
    ],
    "W": [
        "β–   β–",
        "β–   β–",
        "β– β– β–",
        "β–β– β–β–",
        "β–   β–"
    ],
    "X": [
        "β–   β–",
        " β– β– ",
        "  β–  ",
        " β– β– ",
        "β–   β–"
    ],
    "Y": [
        "β–   β–",
        " β– β– ",
        "  β–  ",
        "  β–  ",
        "  β–  "
    ],
    "Z": [
        "β–β–β–β–",
        "   β–",
        " β–β– ",
        "β–   ",
        "β–β–β–β–"
    ],
    "0": [
        " β–β– ",
        "β–  β–",
        "β– β–β–",
        "β–  β–",
        " β–β– "
    ],
    "1": [
        " β– ",
        "β–β– ",
        " β– ",
        " β– ",
        "β–β–β–"
    ],
    "2": [
        "β–β–β– ",
        "   β–",
        " β–β– ",
        "β–   ",
        "β–β–β–β–"
    ],
    "3": [
        "β–β–β– ",
        "   β–",
        " β–β– ",
        "   β–",
        "β–β–β– "
    ],
    "4": [
        "β–  β–",
        "β–  β–",
        "β–β–β–β–",
        "   β–",
        "   β–"
    ],
    "5": [
        "β–β–β–β–",
        "β–   ",
        "β–β–β– ",
        "   β–",
        "β–β–β– "
    ],
    "6": [
        " β–β– ",
        "β–   ",
        "β–β–β– ",
        "β–  β–",
        " β–β– "
    ],
    "7": [
        "β–β–β–β–",
        "   β–",
        "  β– ",
        " β–  ",
        " β–  "
    ],
    "8": [
        " β–β– ",
        "β–  β–",
        " β–β– ",
        "β–  β–",
        " β–β– "
    ],
    "9": [
        " β–β– ",
        "β–  β–",
        " β–β–β–",
        "   β–",
        " β–β– "
    ],
    " ": [
        "    ",
        "    ",
        "    ",
        "    ",
        "    "
    ]
}

SMALL_BLOCK_LETTERS: Final  = {
  "A": [
    "β–„β––",
    "β–β–",
    "β–›β–",
  ],
  "B": [
    "β–„ ",
    "β–™β–",
    "β–™β–",
  ],
  "C": [
    "β–„β––",
    "β– ",
    "β–™β––",
  ],
   "D": [
    "β–„ ",
    "β–β–",
    "β–™β–",
  ],
  "E": [
    "β–„β––",
    "β–™β––",
    "β–™β––",
  ],
  "F": [
    "β–„β––",
    "β–™β––",
    "β– ",
  ],
  "G": [
    "β–„β––",
    "β– ",
    "β–™β–",
  ],
  "H": [
    "β––β––",
    "β–™β–",
    "β–β–",
  ],
  "I": [
    "β–„β––",
    "β– ",
    "β–β––",
  ],
  "J": [
    " β––",
    " β–",
    "β–™β–",
  ],
  "K": [
    "β––β––",
    "β–™β–",
    "β–β–",
  ],
  "L": [
    "β–– ",
    "β– ",
    "β–™β––",
  ],
  "M": [
    "β––  β––",
    "β–›β––β–β–",
    "β–β– β–",
  ],
  "N": [
    "β–– β––",
    "β–›β––β–",
    "β–β–β–",
  ],
  "O": [
    "β–„β––",
    "β–β–",
    "β–™β–",
  ],
  "P": [
    "β–„β––",
    "β–™β–",
    "β– ",
  ],
  "Q": [
    "β–„β––",
    "β–β–",
    "β–β–",
  ],
  "R": [
    "β–„β––",
    "β–™β–",
    "β–β–",
  ],
  "S": [
    "β–„β––",
    "β– ",
    "β–„β–",
  ],
  "T": [
    "β–„β––",
    "β– ",
    "β– ",
  ],
  "U": [
    "β––β––",
    "β–β–",
    "β–™β–",
  ],
  "V": [
    "β––β––",
    "β–β–",
    "β–β–",
  ],
  "W": [
    "β––  β––",
    "β–β–β––β–",
    "β–› β–β–",
  ],
  "X": [
    "β––β––",
    "β–β–",
    "β–β–",
  ],
  "Y": [
    "β––β––",
    "β–β–",
    "β– ",
  ],
  "Z": [
    "β–„β––",
    "β–—β–",
    "β–™β––",
  ],
  " ": [
    " ",
    " ",
    " ",
  ],
  ":": [
    "",
    "β––",
    "β––",
  ],
  ">": [
    " ",
    "π­Έπ¬—",
    " ",
  ],
   "<": [
    " ",
    "π¬¤π­Έ",
    " ",
  ],
  ",": [
    " ",
    "",
    "β–",
  ],
  ".": [
    " ",
    "",
    "β––",
  ],
  "0": [
    "β–„β––",
    "β–›β–",
    "β–β–",
  ],
  "1": [
    "β–— ",
    "β– ",
    "β–β––",
  ],
  "2": [
    "β–„β––",
    "β–„β–",
    "β–™β––",
  ],
  "3": [
    "β–„β––",
    "β–„β–",
    "β–„β–",
  ],
  "4": [
    "β––β––",
    "β–™β–",
    " β–",
  ],
   "5": [
    "β–„β––",
    "β–™β––",
    "β–„β–",
  ],
  "6": [
    "β–„β––",
    "β–™β––",
    "β–™β–",
  ],
  "7": [
    "β–„β––",
    " β–",
    " β–",
  ],
   "8": [
    "β–„β––",
    "β–™β–",
    "β–™β–",
  ],
  "9": [
    "β–„β––",
    "β–™β–",
    "β–„β–",
  ],
}
# β–„β––β–„ β–„β––β–„ β–„β––β–„β––β–„β––β––β––β–„β–– β––β––β––β–– β––  β––β–– β––β–„β––β–„β––β–„β––β–„β––β–„β––β–„β––β––β––β––β––β––  β––β––β––β––β––β–„β––  β–„β––β–— β–„β––β–„β––β––β––β–„β––β–„β––β–„β––β–„β––β–„β––
# β–β–β–™β–β– β–β–β–™β––β–™β––β– β–™β–β–  β–β–™β–β– β–›β––β–β–β–›β––β–β–β–β–™β–β–β–β–™β–β– β– β–β–β–β–β–β–β––β–β–β–β–β–β–—β–  β–›β–β– β–„β–β–„β–β–™β–β–™β––β–™β–– β–β–™β–β–™β–
# β–›β–β–™β–β–™β––β–™β–β–™β––β– β–™β–β–β–β–β––β–™β–β–β–β–™β––β–β– β–β–β–β–β–™β–β– β–β–β–β–β–„β–β– β–™β–β–β–β–› β–β–β–β–β– β–™β––  β–β–β–β––β–™β––β–„β– β–β–„β–β–™β– β–β–™β–β–„β–

# fmt: on
