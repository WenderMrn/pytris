from typing import Final, Literal
from blessed import Terminal

from core.db import Db


TERM = Terminal()
CONN = Db()

BOARD: Final = {"WIDTH": 10, "HEIGHT": 10, "OFFSET_X": 20, "OFFSET_Y": 3}

BOARD_WIDTH: Final = 10
BOARD_HEIGHT: Final = 20
CELL_WIDTH: Final = 2
DEBUG: Final = False
GAME_SPEED: Final = 1.75
PLAYER_SEED: Final = 1

PIECE_BG_COLORS: Final = {
    "I": TERM.on_cyan,
    "O": TERM.on_yellow,
    "T": TERM.on_magenta,
    "S": TERM.on_green,
    "Z": TERM.on_red,
    "J": TERM.on_blue,
    "L": TERM.on_bright_yellow,
}

PIECE_FG_COLORS: Final = {
    "I": TERM.white,
    "O": TERM.black,
    "T": TERM.white,
    "S": TERM.white,
    "Z": TERM.white,
    "J": TERM.white,
    "L": TERM.black,
}

PIECE_NAMES: Final = Literal["I", "O", "T", "J", "L", "S", "Z"]

# fmt: off
PIECES: Final  = {
    "I": [
        [
          [1, 1, 1, 1]
        ], 
        [
          [1], 
          [1], 
          [1], 
          [1], 
        ]
    ],
    "O": [
        [
          [1, 1], 
          [1, 1]
        ]
    ],
    "T": [
        [
            [0, 2, 0], 
            [2, 2, 2]],
        [
            [2, 0], 
            [2, 2], 
            [2, 0]
        ],
        [
            [2, 2, 2], 
            [0, 2, 0]
        ],
        [
            [0, 2], 
            [2, 2], 
            [0, 2]
        ],
    ],
    "J": [
        [
            [3, 0, 0], 
            [3, 3, 3]
        ],
        [
            [3, 3], 
            [3, 0], 
            [3, 0]
        ],
        [
            [3, 3, 3], 
            [0, 0, 3]
        ],
        [
            [0, 3], 
            [0, 3], 
            [3, 3]
        ],
    ],
    "L": [
        [
            [0, 0, 4], 
            [4, 4, 4]
        ],
        [
            [4, 0], 
            [4, 0], 
            [4, 4]],
        [
            [4, 4, 4], 
            [4, 0, 0]
        ],
        [
            [4, 4], 
            [0, 4], 
            [0, 4]
        ],
    ],
    "S": [
        [
            [0, 5, 5], 
            [5, 5, 0]
        ], 
        [
            [5, 0], 
            [5, 5], 
            [0, 5]
        ]
    ],
    "Z": [
        [
            [6, 6, 0], 
            [0, 6, 6]
        ], 
        [
            [0, 6], 
            [6, 6], 
            [6, 0]
        ]
    ],
}


#https://en.wikipedia.org/wiki/Arrow_(symbol)

BLOCK_LETTERS: Final  = {
 "A": [
        " ██ ",
        "█  █",
        "████",
        "█  █",
        "█  █"
    ],
    "B": [
        "███ ",
        "█  █",
        "███ ",
        "█  █",
        "███ "
    ],
    "C": [
        " ██ ",
        "█  █",
        "█   ",
        "█  █",
        " ██ "
    ],
    "D": [
        "███ ",
        "█  █",
        "█  █",
        "█  █",
        "███ "
    ],
    "E": [
        "████",
        "█   ",
        "███ ",
        "█   ",
        "████"
    ],
    "F": [
        "████",
        "█   ",
        "███ ",
        "█   ",
        "█   "
    ],
    "G": [
        " ██ ",
        "█   ",
        "█ ██",
        "█  █",
        " ███"
    ],
    "H": [
        "█  █",
        "█  █",
        "████",
        "█  █",
        "█  █"
    ],
    "I": [
        "███",
        " █ ",
        " █ ",
        " █ ",
        "███"
    ],
    "J": [
        "   █",
        "   █",
        "   █",
        "█  █",
        " ██ "
    ],
    "K": [
        "█  █",
        "█ █ ",
        "██  ",
        "█ █ ",
        "█  █"
    ],
    "L": [
        "█   ",
        "█   ",
        "█   ",
        "█   ",
        "████"
    ],
    "M": [
        "█   █",
        "██ ██",
        "█ █ █",
        "█   █",
        "█   █"
    ],
    "N": [
        "█   █",
        "██  █",
        "█ █ █",
        "█  ██",
        "█   █"
    ],
    "O": [
        " ██ ",
        "█  █",
        "█  █",
        "█  █",
        " ██ "
    ],
    "P": [
        "███ ",
        "█  █",
        "███ ",
        "█   ",
        "█   "
    ],
    "Q": [
        " ██ ",
        "█  █",
        "█  █",
        "█ ██",
        " █ █"
    ],
    "R": [
        "███ ",
        "█  █",
        "███ ",
        "█ █ ",
        "█  █"
    ],
    "S": [
        " ███",
        "█   ",
        " ██ ",
        "   █",
        "███ "
    ],
    "T": [
        "█████",
        "  █  ",
        "  █  ",
        "  █  ",
        "  █  "
    ],
    "U": [
        "█  █",
        "█  █",
        "█  █",
        "█  █",
        " ██ "
    ],
    "V": [
        "█   █",
        "█   █",
        "█   █",
        " █ █ ",
        "  █  "
    ],
    "W": [
        "█   █",
        "█   █",
        "█ █ █",
        "██ ██",
        "█   █"
    ],
    "X": [
        "█   █",
        " █ █ ",
        "  █  ",
        " █ █ ",
        "█   █"
    ],
    "Y": [
        "█   █",
        " █ █ ",
        "  █  ",
        "  █  ",
        "  █  "
    ],
    "Z": [
        "████",
        "   █",
        " ██ ",
        "█   ",
        "████"
    ],
    "0": [
        " ██ ",
        "█  █",
        "█ ██",
        "█  █",
        " ██ "
    ],
    "1": [
        " █ ",
        "██ ",
        " █ ",
        " █ ",
        "███"
    ],
    "2": [
        "███ ",
        "   █",
        " ██ ",
        "█   ",
        "████"
    ],
    "3": [
        "███ ",
        "   █",
        " ██ ",
        "   █",
        "███ "
    ],
    "4": [
        "█  █",
        "█  █",
        "████",
        "   █",
        "   █"
    ],
    "5": [
        "████",
        "█   ",
        "███ ",
        "   █",
        "███ "
    ],
    "6": [
        " ██ ",
        "█   ",
        "███ ",
        "█  █",
        " ██ "
    ],
    "7": [
        "████",
        "   █",
        "  █ ",
        " █  ",
        " █  "
    ],
    "8": [
        " ██ ",
        "█  █",
        " ██ ",
        "█  █",
        " ██ "
    ],
    "9": [
        " ██ ",
        "█  █",
        " ███",
        "   █",
        " ██ "
    ],
    " ": [
        "    ",
        "    ",
        "    ",
        "    ",
        "    "
    ]
}

SMALL_BLOCK_LETTERS: Final  = {
  "A": [
    "▄▖",
    "▌▌",
    "▛▌",
  ],
  "B": [
    "▄ ",
    "▙▘",
    "▙▘",
  ],
  "C": [
    "▄▖",
    "▌ ",
    "▙▖",
  ],
   "D": [
    "▄ ",
    "▌▌",
    "▙▘",
  ],
  "E": [
    "▄▖",
    "▙▖",
    "▙▖",
  ],
  "F": [
    "▄▖",
    "▙▖",
    "▌ ",
  ],
  "G": [
    "▄▖",
    "▌ ",
    "▙▌",
  ],
  "H": [
    "▖▖",
    "▙▌",
    "▌▌",
  ],
  "I": [
    "▄▖",
    "▐ ",
    "▟▖",
  ],
  "J": [
    " ▖",
    " ▌",
    "▙▌",
  ],
  "K": [
    "▖▖",
    "▙▘",
    "▌▌",
  ],
  "L": [
    "▖ ",
    "▌ ",
    "▙▖",
  ],
  "M": [
    "▖  ▖",
    "▛▖▞▌",
    "▌▝ ▌",
  ],
  "N": [
    "▖ ▖",
    "▛▖▌",
    "▌▝▌",
  ],
  "O": [
    "▄▖",
    "▌▌",
    "▙▌",
  ],
  "P": [
    "▄▖",
    "▙▌",
    "▌ ",
  ],
  "Q": [
    "▄▖",
    "▌▌",
    "█▌",
  ],
  "R": [
    "▄▖",
    "▙▘",
    "▌▌",
  ],
  "S": [
    "▄▖",
    "▚ ",
    "▄▌",
  ],
  "T": [
    "▄▖",
    "▐ ",
    "▐ ",
  ],
  "U": [
    "▖▖",
    "▌▌",
    "▙▌",
  ],
  "V": [
    "▖▖",
    "▌▌",
    "▚▘",
  ],
  "W": [
    "▖  ▖",
    "▌▞▖▌",
    "▛ ▝▌",
  ],
  "X": [
    "▖▖",
    "▚▘",
    "▌▌",
  ],
  "Y": [
    "▖▖",
    "▌▌",
    "▐ ",
  ],
  "Z": [
    "▄▖",
    "▗▘",
    "▙▖",
  ],
  " ": [
    " ",
    " ",
    " ",
  ],
  ":": [
    "",
    "▖",
    "▖",
  ],
  ">": [
    " ",
    "🭸🬗",
    " ",
  ],
   "<": [
    " ",
    "🬤🭸",
    " ",
  ],
  ",": [
    " ",
    "",
    "▜",
  ],
  ".": [
    " ",
    "",
    "▖",
  ],
  "0": [
    "▄▖",
    "▛▌",
    "█▌",
  ],
  "1": [
    "▗ ",
    "▜ ",
    "▟▖",
  ],
  "2": [
    "▄▖",
    "▄▌",
    "▙▖",
  ],
  "3": [
    "▄▖",
    "▄▌",
    "▄▌",
  ],
  "4": [
    "▖▖",
    "▙▌",
    " ▌",
  ],
   "5": [
    "▄▖",
    "▙▖",
    "▄▌",
  ],
  "6": [
    "▄▖",
    "▙▖",
    "▙▌",
  ],
  "7": [
    "▄▖",
    " ▌",
    " ▌",
  ],
   "8": [
    "▄▖",
    "▙▌",
    "▙▌",
  ],
  "9": [
    "▄▖",
    "▙▌",
    "▄▌",
  ],
}
# ▄▖▄ ▄▖▄ ▄▖▄▖▄▖▖▖▄▖ ▖▖▖▖ ▖  ▖▖ ▖▄▖▄▖▄▖▄▖▄▖▄▖▖▖▖▖▖  ▖▖▖▖▖▄▖  ▄▖▗ ▄▖▄▖▖▖▄▖▄▖▄▖▄▖▄▖
# ▌▌▙▘▌ ▌▌▙▖▙▖▌ ▙▌▐  ▌▙▘▌ ▛▖▞▌▛▖▌▌▌▙▌▌▌▙▘▚ ▐ ▌▌▌▌▌▞▖▌▚▘▌▌▗▘  ▛▌▜ ▄▌▄▌▙▌▙▖▙▖ ▌▙▌▙▌
# ▛▌▙▘▙▖▙▘▙▖▌ ▙▌▌▌▟▖▙▌▌▌▙▖▌▝ ▌▌▝▌▙▌▌ █▌▌▌▄▌▐ ▙▌▚▘▛ ▝▌▌▌▐ ▙▖  █▌▟▖▙▖▄▌ ▌▄▌▙▌ ▌▙▌▄▌

# fmt: on
